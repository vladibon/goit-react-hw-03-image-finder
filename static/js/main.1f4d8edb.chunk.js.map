{"version":3,"sources":["components/Loader/Loader.module.css","images/pixabay-logo.svg","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","api/pixabay.js","App.jsx","index.js"],"names":["module","exports","_g","Searchbar","state","query","handleChange","value","target","setState","handleSubmit","e","preventDefault","trim","props","onSubmit","toLowerCase","reset","nextProps","nextState","this","className","type","style","width","height","name","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","tags","onClick","src","alt","modalRoot","document","querySelector","Modal","handleKeyDown","code","toggleModal","setNextImage","setPrevImage","handleOverlayClick","currentTarget","window","addEventListener","removeEventListener","children","createPortal","ImageGallery","imagesCount","imageIdx","showModal","handleClick","nextIdx","images","prevProps","prevState","length","map","id","largeImageURL","Button","Loader","s","loader","color","timeout","_excluded","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPixabayLogo","_ref","svgRef","title","titleId","xmlns","viewBox","ref","fill","d","transform","fontFamily","fontSize","wordSpacing","letterSpacing","ForwardRef","axios","defaults","baseURL","params","image_type","orientation","safesearch","per_page","fetchImages","a","q","page","URLSearchParams","toString","data","Status","App","message","status","incrementPage","resetImages","addImages","newImages","switchStatus","newStatus","scrollY","snapshot","hits","totalHits","Error","scrollBottom","href","rel","scrollTo","top","innerHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,OAAS,yB,gECDvBC,E,4GCIEC,E,4MAKJC,MAAQ,CACNC,MAAO,I,EAOTC,aAAe,YAA4B,IAAfC,EAAc,EAAxBC,OAAUD,MAC1B,EAAKE,SAAS,CAAEJ,MAAOE,K,EAGzBG,aAAe,SAAAC,GACbA,EAAEC,iBAEF,IAAQP,EAAU,EAAKD,MAAfC,MAEHA,EAAMQ,SAEX,EAAKC,MAAMC,SAASV,EAAMW,eAE1B,EAAKC,U,EAGPA,MAAQ,WACN,EAAKR,SAAS,CAAEJ,MAAO,M,2DArBzB,SAAsBa,EAAWC,GAC/B,OAAOA,EAAUd,QAAUe,KAAKhB,MAAMC,Q,oBAuBxC,WACE,IAAQA,EAAUe,KAAKhB,MAAfC,MAER,OACE,wBAAQgB,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaN,SAAUK,KAAKV,aAA5C,UACE,wBACEY,KAAK,SACLD,UAAU,oBACV,aAAW,gBAHb,SAKE,cAAC,IAAD,CAAUE,MAAO,CAAEC,MAAO,GAAIC,OAAQ,QAGxC,uBACEJ,UAAU,mBACVC,KAAK,OACLI,KAAK,cACLnB,MAAOF,EACPsB,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUV,KAAKd,wB,GAvDHyB,aCFlBC,EAAmB,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,KAAMC,EAAvB,EAAuBA,QAAvB,OACvB,oBAAId,UAAU,mBAAmBc,QAASA,EAA1C,SACE,qBAAKd,UAAU,yBAAyBe,IAAKH,EAAcI,IAAKH,OCA9DI,EAAYC,SAASC,cAAc,eAEnCC,E,4MAeJC,cAAgB,YAAe,IAAZC,EAAW,EAAXA,KACR,WAATA,GAAqB,EAAK7B,MAAM8B,cACvB,eAATD,GAAyB,EAAK7B,MAAM+B,eAC3B,cAATF,GAAwB,EAAK7B,MAAMgC,gB,EAGrCC,mBAAqB,YAA+B,EAA5BC,gBAA4B,EAAbxC,QACT,EAAKM,MAAM8B,e,uDAfzC,WACEK,OAAOC,iBAAiB,UAAW9B,KAAKsB,iB,kCAG1C,WACEO,OAAOE,oBAAoB,UAAW/B,KAAKsB,iB,oBAa7C,WACE,IAAQU,EAAahC,KAAKN,MAAlBsC,SAER,OAAOC,uBACL,qBAAKhC,UAAU,UAAUc,QAASf,KAAK2B,mBAAvC,SACE,qBAAK1B,UAAU,QAAf,SAAwB+B,MAE1Bd,O,GAhCcP,aCDduB,E,4MAUJlD,MAAQ,CACNmD,YAAa,KACbC,SAAU,KACVC,WAAW,G,EAiBbC,YAAc,SAAAF,GACZ,EAAK/C,SAAS,CAAE+C,aAChB,EAAKZ,e,EAGPA,YAAc,WACZ,EAAKnC,UAAS,kBAAoB,CAAEgD,WAAtB,EAAGA,e,EAGnBZ,aAAe,WACb,EAAKpC,UAAS,YAAgC,IACtCkD,EADqC,EAA5BH,SACY,EAE3B,MAAO,CAAEA,SAAUG,EAHwB,EAAlBJ,YAGkBI,EAAU,O,EAIzDb,aAAe,WACb,EAAKrC,UAAS,YAAgC,IAA7B+C,EAA4B,EAA5BA,SAAUD,EAAkB,EAAlBA,YACnBI,EAAUH,EAAW,EAE3B,MAAO,CAAEA,SAAUG,GAAW,EAAIA,EAAUJ,EAAc,O,2DAnC9D,SAAsBrC,EAAWC,GAC/B,OACED,EAAU0C,SAAWxC,KAAKN,MAAM8C,QAChCzC,EAAUqC,WAAapC,KAAKhB,MAAMoD,UAClCrC,EAAUsC,YAAcrC,KAAKhB,MAAMqD,Y,gCAIvC,SAAmBI,EAAWC,GAC5B,IAAQF,EAAWxC,KAAKN,MAAhB8C,OAERxC,KAAKX,SAAS,CAAE8C,YAAaK,EAAOG,W,oBA4BtC,WAAU,IAAD,OACCH,EAAWxC,KAAKN,MAAhB8C,OACR,EAAgCxC,KAAKhB,MAA7BoD,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,UAElB,OACE,qCACE,oBAAIpC,UAAU,eAAd,SACGuC,EAAOI,KAAI,WAA6BR,GAA7B,IAAGS,EAAH,EAAGA,GAAIhC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,KAArB,OACV,cAAC,EAAD,CAEED,aAAcA,EACdC,KAAMA,EACNC,QAAS,kBAAM,EAAKuB,YAAYF,KAH3BS,QAQVR,GACC,cAAC,EAAD,CACEb,YAAaxB,KAAKwB,YAClBC,aAAczB,KAAKyB,aACnBC,aAAc1B,KAAK0B,aAHrB,SAKE,qBACEV,IAAKwB,EAAOJ,GAAUU,cACtB7B,IAAKuB,EAAOJ,GAAUtB,gB,GAhFTH,aCHrBoC,EAAS,SAAC,GAAD,IAAGhC,EAAH,EAAGA,QAAH,OACb,wBAAQd,UAAU,SAASC,KAAK,SAASa,QAASA,EAAlD,wB,kCCAIiC,EAAS,kBACb,qBAAK/C,UAAWgD,IAAEC,OAAlB,SACE,cAAC,IAAD,CACEhD,KAAK,YACLiD,MAAM,UACN9C,OAAQ,IACRD,MAAO,IACPgD,QAAS,SNRXC,EAAY,CAAC,QAAS,WAE1B,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUpE,GAAU,IAAK,IAAIqE,EAAI,EAAGA,EAAIC,UAAUf,OAAQc,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcJ,OAAOM,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQxE,EAAOwE,GAAOD,EAAOC,IAAY,OAAOxE,GAAkBkE,EAASU,MAAMhE,KAAM0D,WAEhT,SAASO,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnErE,EAEzF,SAAuCuE,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DrE,EAAS,GAAQ+E,EAAaZ,OAAOa,KAAKT,GAAqB,IAAKF,EAAI,EAAGA,EAAIU,EAAWxB,OAAQc,IAAOG,EAAMO,EAAWV,GAAQS,EAASG,QAAQT,IAAQ,IAAaxE,EAAOwE,GAAOD,EAAOC,IAAQ,OAAOxE,EAFxMkF,CAA8BX,EAAQO,GAAuB,GAAIX,OAAOgB,sBAAuB,CAAE,IAAIC,EAAmBjB,OAAOgB,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB7B,OAAQc,IAAOG,EAAMY,EAAiBf,GAAQS,EAASG,QAAQT,IAAQ,GAAkBL,OAAOM,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBxE,EAAOwE,GAAOD,EAAOC,IAAU,OAAOxE,EAMne,SAASsF,EAAeC,EAAMC,GAC5B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfpF,EAAQuE,EAAyBU,EAAMtB,GAE3C,OAAoB,gBAAoB,MAAOC,EAAS,CACtDyB,MAAO,6BACPC,QAAS,iBACTC,IAAKL,EACL,kBAAmBE,GAClBpF,GAAQmF,EAAqB,gBAAoB,QAAS,CAC3DhC,GAAIiC,GACHD,GAAS,KAAM/F,IAAOA,EAAkB,gBAAoB,IAAK,CAClEoG,KAAM,QACQ,gBAAoB,OAAQ,CAC1CC,EAAG,ykBACHC,UAAW,iCACI,gBAAoB,IAAK,CACxCC,WAAY,SACZC,SAAU,OACVC,YAAa,EACbC,cAAe,GACD,gBAAoB,OAAQ,CAC1CL,EAAG,kiBACHC,UAAW,kDACI,gBAAoB,OAAQ,CAC3CD,EAAG,ygDACHC,UAAW,sDAIf,IAAIK,EAA0B,aAAiBf,G,GAChC,I,gBO1CfgB,IAAMC,SAASC,QAAU,0BACzBF,IAAMC,SAASE,OAAS,CACtBjC,IAAK,qCACLkC,WAAY,QACZC,YAAa,aACbC,YAAY,EACZC,SAAU,IAGZ,IAAMC,EAAW,uCAAG,mCAAAC,EAAA,6DAAgBC,EAAhB,EAASnH,MAAUoH,EAAnB,EAAmBA,KAAnB,SACKX,IAAM,IAAD,OACtB,IAAIY,gBAAgB,CAAEF,IAAGC,SAAQE,aAFrB,uBACVC,EADU,EACVA,KADU,kBAKXA,GALW,2CAAH,sDCHXC,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGNC,E,4MACJ1H,MAAQ,CACNC,MAAO,GACPoH,KAAM,EACN7D,OAAQ,GACRmE,QAAS,GACTC,OAAQH,G,EAwCVnH,aAAe,SAAAL,GACb,EAAKI,SAAS,CAAEJ,QAAOoH,KAAM,K,EAG/BQ,cAAgB,WACd,EAAKxH,UAAS,kBAAe,CAAEgH,KAAjB,EAAGA,KAA2B,O,EAG9CS,YAAc,WACZ,EAAKzH,SAAS,CAAEmD,OAAQ,M,EAG1BuE,UAAY,SAAAC,GACV,EAAK3H,UAAS,gBAAGmD,EAAH,EAAGA,OAAH,MAAiB,CAC7BA,OAAO,GAAD,mBAAMA,GAAN,YAAiBwE,S,EAI3BC,aAAe,SAAAC,GACb,EAAK7H,SAAS,CAAEuH,OAAQM,K,6DAxD1B,WACE,OAAOrF,OAAOsF,U,uEAGhB,WAAyB1E,EAAWC,EAAW0E,GAA/C,yBAAAjB,EAAA,2DAC0BnG,KAAKhB,MAArBC,EADV,EACUA,MAAOoH,EADjB,EACiBA,KAEXpH,IAAUyD,EAAUzD,OAASoH,IAAS3D,EAAU2D,KAHtD,wDAKErG,KAAKiH,aAAaR,GALpB,kBAQiDP,EAAY,CAAEjH,QAAOoH,SARtE,mBAQkBW,EARlB,EAQYK,KARZ,EAQ6BC,UAR7B,uBAWY,IAAIC,MACR,0DAZR,WAgBSP,EAAUrE,OAhBnB,uBAiBY,IAAI4E,MAAJ,8DAjBZ,QAsBiB,IAATlB,GAAYrG,KAAK8G,cACrB9G,KAAK+G,UAAUC,GACfhH,KAAKiH,aAAaR,GAEdJ,EAAO,GAAGmB,EAAaJ,GA1B/B,kDA2BaT,EA3Bb,KA2BaA,QACT3G,KAAKiH,aAAaR,GAClBzG,KAAKX,SAAS,CAAEsH,YA7BpB,0D,+EAuDA,WACE,MAAoC3G,KAAKhB,MAAjCwD,EAAR,EAAQA,OAAQmE,EAAhB,EAAgBA,QAASC,EAAzB,EAAyBA,OAEzB,OACE,sBAAK3G,UAAU,MAAf,UACE,cAAC,EAAD,CAAWN,SAAUK,KAAKV,eAC1B,cAAC,EAAD,CAAckD,OAAQA,IAErBoE,IAAWH,GAAkB,cAAC,EAAD,IAC7BG,IAAWH,GAAmB,cAAC,EAAD,CAAQ1F,QAASf,KAAK6G,gBACpDD,IAAWH,GACV,8BACE,6BAAKE,MAGRC,IAAWH,GACV,8BACE,mBACEgB,KAAK,uBACLrI,OAAO,SACPsI,IAAI,sBACJ,aAAW,UAJb,SAME,cAAC,EAAD,CAAatH,MAAM,mB,GA3FfO,aAoGlB,SAAS6G,EAAaJ,GACpBvF,OAAO8F,SAAS,CACdC,IAAK/F,OAAOgG,YAAcT,EAAW,IACrCU,SAAU,WAICpB,Q,YCpHfqB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9G,SAAS+G,eAAe,W","file":"static/js/main.1f4d8edb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPixabayLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 640 123.87\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#333\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M679.67 407.38c-3.478-2.461-6.005-4.956-6.005-8.034h-19.338c0 5.54-2.527 8.034-5.645 8.034h-5.164v56.236h100.42V407.38h-64.63zm-6.006 16.067h-18.096v-8.034h20.084v6.465zm33.991 31.276c-11.457 0-20.779-9.202-20.779-20.513s9.322-20.04 20.78-20.04c11.456 0 20.777 8.728 20.777 20.04 0 11.311-9.32 20.513-20.778 20.513zm11.17-20.513c0 6.08-5.01 11.028-11.169 11.028-6.159 0-11.17-4.948-11.17-11.028 0-6.081 5.011-11.027 11.17-11.027s11.17 4.947 11.17 11.027zm77.334-34.48-25 63.735-19.185-7.693V444.91l13.323 5.452 17.592-44.844-65.92-25.205-6.11 19.034h-11l11.248-32.135 85.054 32.519z\",\n    transform: \"translate(-156.157 -367.215)\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fontFamily: \"VomZom\",\n    fontSize: 23.686,\n    wordSpacing: 0,\n    letterSpacing: 0\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M164.38 467.99c4.011-.092 7.776 3.17 8.2 7.17.506 3.515-1.562 7.166-4.803 8.593-1.963.974-4.18.675-6.292.725h-2.063v6.609h-3.267c.007-5.1-.013-10.2.01-15.3.107-3.799 3.218-7.202 6.974-7.707.41-.061.827-.091 1.241-.09zm0 13.219c2.357.06 4.568-1.78 4.92-4.115.47-2.35-1.03-4.877-3.322-5.582-2.214-.785-4.878.249-5.959 2.34-.839 1.428-.541 3.117-.597 4.69v2.667h4.958zM174.16 467.91h3.23v16.488h-3.23V467.91zM187.1 478.32h.118l4.592 6.123h4.004l-6.241-8.478 5.534-8.008h-4.003l-3.886 5.653h-.118l-3.886-5.653h-4.004l5.535 8.008-6.241 8.478h4.004z\",\n    transform: \"matrix(4.12904 0 0 4.12904 -644.78 -1903.844)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M203.13 467.91c3.272-.065 6.411 2.08 7.622 5.106.632 1.405.624 2.963.603 4.472v6.91c-2.916-.01-5.833.02-8.748-.016-3.353-.164-6.418-2.608-7.378-5.815-.88-2.79-.149-6.028 1.922-8.11 1.547-1.6 3.745-2.568 5.979-2.547zm4.958 13.22c-.014-1.833.029-3.668-.024-5.5-.194-2.457-2.469-4.514-4.934-4.451-2.344-.057-4.553 1.761-4.92 4.082-.43 2.226.849 4.653 2.974 5.484 1.309.57 2.754.335 4.138.385h2.766zM221.19 467.99c3.87-.095 7.486 2.95 8.102 6.76.7 3.613-1.341 7.516-4.705 9.003-3.287 1.551-7.514.551-9.774-2.292-1.401-1.65-2.005-3.844-1.885-5.984V461.38h3.267v6.61h4.995zm0 13.219c2.482.066 4.75-2.017 4.933-4.487.31-2.454-1.508-4.922-3.937-5.368-1.344-.184-2.708-.06-4.06-.096h-1.93c.02 1.863-.045 3.729.037 5.589.26 2.46 2.485 4.41 4.957 4.362zM238.9 467.91c3.272-.065 6.411 2.08 7.622 5.106.632 1.405.624 2.963.603 4.472v6.91c-2.916-.01-5.833.02-8.748-.016-3.353-.164-6.418-2.608-7.378-5.815-.88-2.79-.149-6.028 1.922-8.11 1.547-1.6 3.746-2.568 5.979-2.547zm4.958 13.22c-.014-1.833.029-3.668-.024-5.5-.194-2.457-2.469-4.514-4.934-4.451-2.344-.057-4.553 1.761-4.92 4.082-.43 2.226.849 4.653 2.974 5.484 1.309.57 2.754.335 4.138.385h2.766zM265.11 467.95c-.007 5.088.013 10.176-.01 15.263-.119 4.004-3.56 7.603-7.577 7.812-.763.04-1.528.016-2.291.022v-3.267c1.394-.007 2.886.134 4.12-.655 1.543-.866 2.524-2.61 2.489-4.376-2.897 2.336-7.387 2.215-10.204-.196-2.052-1.657-3.174-4.322-3.015-6.945v-7.658h3.267c.015 2.911-.03 5.824.024 8.733.178 2.396 2.314 4.424 4.715 4.481 2.434.187 4.776-1.702 5.139-4.11.146-1.44.042-2.894.073-4.34v-4.764h3.27z\",\n    transform: \"matrix(4.12904 0 0 4.12904 -644.78 -1903.844)\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPixabayLogo);\nexport default __webpack_public_path__ + \"static/media/pixabay-logo.8bf327db.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n\n  state = {\n    query: '',\n  };\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextState.query !== this.state.query;\n  }\n\n  handleChange = ({ target: { value } }) => {\n    this.setState({ query: value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { query } = this.state;\n\n    if (!query.trim()) return;\n\n    this.props.onSubmit(query.toLowerCase());\n\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className='Searchbar'>\n        <form className='SearchForm' onSubmit={this.handleSubmit}>\n          <button\n            type='submit'\n            className='SearchForm-button'\n            aria-label='Search images'\n          >\n            <ImSearch style={{ width: 22, height: 22 }} />\n          </button>\n\n          <input\n            className='SearchForm-input'\n            type='text'\n            name='searchQuery'\n            value={query}\n            autoComplete='off'\n            autoFocus\n            placeholder='Search images and photos'\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport { Searchbar };\n","import PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ webformatURL, tags, onClick }) => (\n  <li className='ImageGalleryItem' onClick={onClick}>\n    <img className='ImageGalleryItem-image' src={webformatURL} alt={tags} />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport { ImageGalleryItem };\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    toggleModal: PropTypes.func.isRequired,\n    setNextImage: PropTypes.func.isRequired,\n    setPrevImage: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = ({ code }) => {\n    code === 'Escape' && this.props.toggleModal();\n    code === 'ArrowRight' && this.props.setNextImage();\n    code === 'ArrowLeft' && this.props.setPrevImage();\n  };\n\n  handleOverlayClick = ({ currentTarget, target }) => {\n    currentTarget === target && this.props.toggleModal();\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return createPortal(\n      <div className='Overlay' onClick={this.handleOverlayClick}>\n        <div className='Modal'>{children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport { Modal };\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImageGalleryItem } from '../ImageGalleryItem';\nimport { Modal } from '../Modal';\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        largeImageURL: PropTypes.string.isRequired,\n      }).isRequired,\n    ).isRequired,\n  };\n\n  state = {\n    imagesCount: null,\n    imageIdx: null,\n    showModal: false,\n  };\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      nextProps.images !== this.props.images ||\n      nextState.imageIdx !== this.state.imageIdx ||\n      nextState.showModal !== this.state.showModal\n    );\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { images } = this.props;\n\n    this.setState({ imagesCount: images.length });\n  }\n\n  handleClick = imageIdx => {\n    this.setState({ imageIdx });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  setNextImage = () => {\n    this.setState(({ imageIdx, imagesCount }) => {\n      const nextIdx = imageIdx + 1;\n\n      return { imageIdx: nextIdx < imagesCount ? nextIdx : 0 };\n    });\n  };\n\n  setPrevImage = () => {\n    this.setState(({ imageIdx, imagesCount }) => {\n      const nextIdx = imageIdx - 1;\n\n      return { imageIdx: nextIdx >= 0 ? nextIdx : imagesCount - 1 };\n    });\n  };\n\n  render() {\n    const { images } = this.props;\n    const { imageIdx, showModal } = this.state;\n\n    return (\n      <>\n        <ul className='ImageGallery'>\n          {images.map(({ id, webformatURL, tags }, imageIdx) => (\n            <ImageGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              tags={tags}\n              onClick={() => this.handleClick(imageIdx)}\n            />\n          ))}\n        </ul>\n\n        {showModal && (\n          <Modal\n            toggleModal={this.toggleModal}\n            setNextImage={this.setNextImage}\n            setPrevImage={this.setPrevImage}\n          >\n            <img\n              src={images[imageIdx].largeImageURL}\n              alt={images[imageIdx].tags}\n            />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport { ImageGallery };\n","import PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => (\n  <button className='Button' type='button' onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport { Button };\n","import Spinner from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nconst Loader = () => (\n  <div className={s.loader}>\n    <Spinner\n      type='ThreeDots'\n      color='#3d8679'\n      height={120}\n      width={120}\n      timeout={3000}\n    />\n  </div>\n);\n\nexport { Loader };\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\naxios.defaults.params = {\n  key: '22909528-f64cd92665831d6faf8601377',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  per_page: 12,\n};\n\nconst fetchImages = async ({ query: q, page }) => {\n  const { data } = await axios(\n    `?${new URLSearchParams({ q, page }).toString()}`,\n  );\n\n  return data;\n};\n\nexport { fetchImages };\n","import { Component } from 'react';\nimport { Searchbar } from './components/Searchbar';\nimport { ImageGallery } from './components/ImageGallery';\nimport { Button } from './components/Button';\nimport { Loader } from './components/Loader';\nimport { ReactComponent as PixabayLogo } from './images/pixabay-logo.svg';\nimport { fetchImages } from './api/pixabay';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    images: [],\n    message: '',\n    status: Status.IDLE,\n  };\n\n  getSnapshotBeforeUpdate() {\n    return window.scrollY;\n  }\n\n  async componentDidUpdate(prevProps, prevState, snapshot) {\n    const { query, page } = this.state;\n\n    if (query === prevState.query && page === prevState.page) return;\n\n    this.switchStatus(Status.PENDING);\n\n    try {\n      const { hits: newImages, totalHits } = await fetchImages({ query, page });\n\n      if (!totalHits) {\n        throw new Error(\n          'Sorry, there are no images matching your search query.',\n        );\n      }\n\n      if (!newImages.length) {\n        throw new Error(\n          `We're sorry, but you've reached the end of search results.`,\n        );\n      }\n\n      if (page === 1) this.resetImages();\n      this.addImages(newImages);\n      this.switchStatus(Status.RESOLVED);\n\n      if (page > 1) scrollBottom(snapshot);\n    } catch ({ message }) {\n      this.switchStatus(Status.REJECTED);\n      this.setState({ message });\n    }\n  }\n\n  handleSubmit = query => {\n    this.setState({ query, page: 1 });\n  };\n\n  incrementPage = () => {\n    this.setState(({ page }) => ({ page: page + 1 }));\n  };\n\n  resetImages = () => {\n    this.setState({ images: [] });\n  };\n\n  addImages = newImages => {\n    this.setState(({ images }) => ({\n      images: [...images, ...newImages],\n    }));\n  };\n\n  switchStatus = newStatus => {\n    this.setState({ status: newStatus });\n  };\n\n  render() {\n    const { images, message, status } = this.state;\n\n    return (\n      <div className='App'>\n        <Searchbar onSubmit={this.handleSubmit} />\n        <ImageGallery images={images} />\n\n        {status === Status.PENDING && <Loader />}\n        {status === Status.RESOLVED && <Button onClick={this.incrementPage} />}\n        {status === Status.REJECTED && (\n          <div>\n            <h2>{message}</h2>\n          </div>\n        )}\n        {status === Status.IDLE && (\n          <div>\n            <a\n              href='https://pixabay.com/'\n              target='_blank'\n              rel='nofollow noreferrer'\n              aria-label='pixabay'\n            >\n              <PixabayLogo width='400' />\n            </a>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction scrollBottom(snapshot) {\n  window.scrollTo({\n    top: window.innerHeight + snapshot - 150,\n    behavior: 'smooth',\n  });\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}