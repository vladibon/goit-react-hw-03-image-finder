(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{16:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2bkPr"}},17:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},18:function(e,t,a){e.exports={container:"Notification_container__2Ycj5",message:"Notification_message__eciZi"}},19:function(e,t,a){e.exports={container:"Logo_container__tcuYw",link:"Logo_link__33NMk"}},29:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},31:function(e,t,a){e.exports={loader:"Loader_loader__1j2Bs"}},32:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},33:function(e,t,a){e.exports={App:"App_App__aOmNj"}},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(12),c=a.n(o),s=a(8),i=a.n(s),l=a(13),u=a(20),h=a(4),m=a(5),d=a(7),g=a(6),p=a(34),f=a(9),b=a.n(f),v=a(1),j=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleChange=function(t){var a=t.target.value;e.setState({query:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.query;a.trim()&&(e.props.onSubmit(a.toLowerCase()),e.reset())},e.reset=function(){e.setState({query:""})},e}return Object(m.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return t.query!==this.state.query}},{key:"render",value:function(){var e=this.state.query;return Object(v.jsx)("header",{className:b.a.Searchbar,children:Object(v.jsxs)("form",{className:b.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(v.jsx)("button",{type:"submit",className:b.a.SearchFormButton,"aria-label":"Search images",children:Object(v.jsx)(p.a,{style:{width:22,height:22}})}),Object(v.jsx)("input",{className:b.a.SearchFormInput,type:"text",name:"searchQuery",value:e,autoComplete:"off",autoFocus:!0,placeholder:"Search images",onChange:this.handleChange})]})})}}]),a}(r.Component),y=a(16),x=a.n(y),O=function(e){var t=e.webformatURL,a=e.tags,r=e.onClick;return Object(v.jsx)("li",{className:x.a.ImageGalleryItem,onClick:r,children:Object(v.jsx)("img",{className:x.a.ImageGalleryItemImage,src:t,alt:a})})},w=a(17),_=a.n(w),I=document.querySelector("#modal-root"),S=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){var a=t.code;"Escape"===a&&e.props.toggleModal(),"ArrowRight"===a&&e.props.setNextImage(),"ArrowLeft"===a&&e.props.setPrevImage()},e.handleOverlayClick=function(t){t.currentTarget===t.target&&e.props.toggleModal()},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),document.body.style.overflow="unset"}},{key:"render",value:function(){var e=this.props.children;return Object(o.createPortal)(Object(v.jsx)("div",{className:_.a.Overlay,onClick:this.handleOverlayClick,children:Object(v.jsx)("div",{className:_.a.Modal,children:e})}),I)}}]),a}(r.Component),k=a(29),C=a.n(k),M=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={imagesCount:null,imageIdx:null,showModal:!1},e.handleClick=function(t){e.setState({imageIdx:t}),e.toggleModal()},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.setNextImage=function(){e.setState((function(e){var t=e.imageIdx+1;return{imageIdx:t<e.imagesCount?t:0}}))},e.setPrevImage=function(){e.setState((function(e){var t=e.imageIdx,a=e.imagesCount,r=t-1;return{imageIdx:r>=0?r:a-1}}))},e}return Object(m.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.images!==this.props.images||t.imageIdx!==this.state.imageIdx||t.showModal!==this.state.showModal}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.images;a!==e.images&&this.setState({imagesCount:a.length})}},{key:"render",value:function(){var e=this,t=this.props.images,a=this.state,r=a.imageIdx,n=a.showModal;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("ul",{className:C.a.ImageGallery,children:t.map((function(t,a){var r=t.id,n=t.webformatURL,o=t.tags;return Object(v.jsx)(O,{webformatURL:n,tags:o,onClick:function(){return e.handleClick(a)}},r)}))}),n&&Object(v.jsx)(S,{toggleModal:this.toggleModal,setNextImage:this.setNextImage,setPrevImage:this.setPrevImage,children:Object(v.jsx)("img",{src:t[r].largeImageURL,alt:t[r].tags})})]})}}]),a}(r.Component),N=a(30),z=a.n(N),q=a(31),E=a.n(q),L=function(){return Object(v.jsx)("div",{className:E.a.loader,children:Object(v.jsx)(z.a,{type:"ThreeDots",color:"#3d8679",height:110,width:110,timeout:3e3})})},B=a(32),U=a.n(B),F=function(e){var t=e.onClick;return Object(v.jsx)("button",{className:U.a.Button,type:"button",onClick:t,children:"Load more"})},G=a(18),A=a.n(G),D=function(e){var t=e.message,a=e.onClick;return Object(v.jsx)("div",{className:A.a.container,onClick:a,children:Object(v.jsx)("p",{className:A.a.message,children:t})})},P=a(19),R=a.n(P),V=function(e){var t=e.url,a=e.name,r=e.children;return Object(v.jsx)("div",{className:R.a.container,children:Object(v.jsx)("a",{className:R.a.link,href:t,target:"_blank",rel:"nofollow noreferrer","aria-label":a,children:r})})},T=a(14),W=a.n(T);W.a.defaults.baseURL="https://pixabay.com/api",W.a.defaults.params={key:"22909528-f64cd92665831d6faf8601377",image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:12};var H,J=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,r=t.page,e.next=3,W()("?".concat(new URLSearchParams({q:a,page:r}).toString()));case 3:return n=e.sent,o=n.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=["title","titleId"];function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Y.apply(this,arguments)}function Z(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Q(e,t){var a=e.title,n=e.titleId,o=Z(e,K);return r.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 123.87",ref:t,"aria-labelledby":n},o),a?r.createElement("title",{id:n},a):null,H||(H=r.createElement("g",{fill:"#333"},r.createElement("path",{d:"M679.67 407.38c-3.478-2.461-6.005-4.956-6.005-8.034h-19.338c0 5.54-2.527 8.034-5.645 8.034h-5.164v56.236h100.42V407.38h-64.63zm-6.006 16.067h-18.096v-8.034h20.084v6.465zm33.991 31.276c-11.457 0-20.779-9.202-20.779-20.513s9.322-20.04 20.78-20.04c11.456 0 20.777 8.728 20.777 20.04 0 11.311-9.32 20.513-20.778 20.513zm11.17-20.513c0 6.08-5.01 11.028-11.169 11.028-6.159 0-11.17-4.948-11.17-11.028 0-6.081 5.011-11.027 11.17-11.027s11.17 4.947 11.17 11.027zm77.334-34.48-25 63.735-19.185-7.693V444.91l13.323 5.452 17.592-44.844-65.92-25.205-6.11 19.034h-11l11.248-32.135 85.054 32.519z",transform:"translate(-156.157 -367.215)"}),r.createElement("g",{fontFamily:"VomZom",fontSize:23.686,wordSpacing:0,letterSpacing:0},r.createElement("path",{d:"M164.38 467.99c4.011-.092 7.776 3.17 8.2 7.17.506 3.515-1.562 7.166-4.803 8.593-1.963.974-4.18.675-6.292.725h-2.063v6.609h-3.267c.007-5.1-.013-10.2.01-15.3.107-3.799 3.218-7.202 6.974-7.707.41-.061.827-.091 1.241-.09zm0 13.219c2.357.06 4.568-1.78 4.92-4.115.47-2.35-1.03-4.877-3.322-5.582-2.214-.785-4.878.249-5.959 2.34-.839 1.428-.541 3.117-.597 4.69v2.667h4.958zM174.16 467.91h3.23v16.488h-3.23V467.91zM187.1 478.32h.118l4.592 6.123h4.004l-6.241-8.478 5.534-8.008h-4.003l-3.886 5.653h-.118l-3.886-5.653h-4.004l5.535 8.008-6.241 8.478h4.004z",transform:"matrix(4.12904 0 0 4.12904 -644.78 -1903.844)"}),r.createElement("path",{d:"M203.13 467.91c3.272-.065 6.411 2.08 7.622 5.106.632 1.405.624 2.963.603 4.472v6.91c-2.916-.01-5.833.02-8.748-.016-3.353-.164-6.418-2.608-7.378-5.815-.88-2.79-.149-6.028 1.922-8.11 1.547-1.6 3.745-2.568 5.979-2.547zm4.958 13.22c-.014-1.833.029-3.668-.024-5.5-.194-2.457-2.469-4.514-4.934-4.451-2.344-.057-4.553 1.761-4.92 4.082-.43 2.226.849 4.653 2.974 5.484 1.309.57 2.754.335 4.138.385h2.766zM221.19 467.99c3.87-.095 7.486 2.95 8.102 6.76.7 3.613-1.341 7.516-4.705 9.003-3.287 1.551-7.514.551-9.774-2.292-1.401-1.65-2.005-3.844-1.885-5.984V461.38h3.267v6.61h4.995zm0 13.219c2.482.066 4.75-2.017 4.933-4.487.31-2.454-1.508-4.922-3.937-5.368-1.344-.184-2.708-.06-4.06-.096h-1.93c.02 1.863-.045 3.729.037 5.589.26 2.46 2.485 4.41 4.957 4.362zM238.9 467.91c3.272-.065 6.411 2.08 7.622 5.106.632 1.405.624 2.963.603 4.472v6.91c-2.916-.01-5.833.02-8.748-.016-3.353-.164-6.418-2.608-7.378-5.815-.88-2.79-.149-6.028 1.922-8.11 1.547-1.6 3.746-2.568 5.979-2.547zm4.958 13.22c-.014-1.833.029-3.668-.024-5.5-.194-2.457-2.469-4.514-4.934-4.451-2.344-.057-4.553 1.761-4.92 4.082-.43 2.226.849 4.653 2.974 5.484 1.309.57 2.754.335 4.138.385h2.766zM265.11 467.95c-.007 5.088.013 10.176-.01 15.263-.119 4.004-3.56 7.603-7.577 7.812-.763.04-1.528.016-2.291.022v-3.267c1.394-.007 2.886.134 4.12-.655 1.543-.866 2.524-2.61 2.489-4.376-2.897 2.336-7.387 2.215-10.204-.196-2.052-1.657-3.174-4.322-3.015-6.945v-7.658h3.267c.015 2.911-.03 5.824.024 8.733.178 2.396 2.314 4.424 4.715 4.481 2.434.187 4.776-1.702 5.139-4.11.146-1.44.042-2.894.073-4.34v-4.764h3.27z",transform:"matrix(4.12904 0 0 4.12904 -644.78 -1903.844)"})))))}var X=r.forwardRef(Q),$=(a.p,a(33)),ee=a.n($),te="idle",ae="pending",re="resolved",ne="rejected",oe=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={query:"",page:1,images:[],message:"",status:te},e.addImages=function(t){e.setState((function(e){var a=e.images;return{images:[].concat(Object(u.a)(a),Object(u.a)(t)),status:re}}))},e.handleSubmit=function(t){e.setState({query:t,page:1,images:[],status:ae})},e.handleNextLoad=function(){e.setState((function(e){return{page:e.page+1,status:ae}}))},e}return Object(m.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(){return window.scrollY}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(i.a.mark((function e(t,a,r){var n,o,c,s,l,u,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,o=n.query,c=n.page,o!==a.query||c!==a.page){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,J({query:o,page:c});case 6:s=e.sent,l=s.totalHits,u=s.hits,this.checkErrors(l,u),this.addImages(u),c>1&&this.scrollBottom(r),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),h=e.t0.message,this.setState({message:h,status:ne});case 18:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"checkErrors",value:function(e,t){if(!e)throw new Error("Sorry, there are no images matching your search query.");if(!t.length)throw new Error("We're sorry, but you've reached the end of the search result.")}},{key:"scrollBottom",value:function(e){window.scrollTo({top:window.innerHeight+e-150,behavior:"smooth"})}},{key:"render",value:function(){var e=this,t=this.state,a=t.images,r=t.message,n=t.status;return Object(v.jsxs)("div",{className:ee.a.App,children:[Object(v.jsx)(j,{onSubmit:this.handleSubmit}),Object(v.jsx)(M,{images:a}),n===ae&&Object(v.jsx)(L,{}),n===re&&Object(v.jsx)(F,{onClick:this.handleNextLoad}),n===ne&&Object(v.jsx)(D,{message:r,onClick:function(){return e.setState({status:te})}}),!a.length&&Object(v.jsx)(V,{name:"pixabay",url:"https://pixabay.com/",children:Object(v.jsx)(X,{"max-width":"300"})})]})}}]),a}(r.Component),ce=oe;a(79),a(80);c.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(ce,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchFormButton:"Searchbar_SearchFormButton__21S85",SearchFormInput:"Searchbar_SearchFormInput__VhsfU"}}},[[81,1,2]]]);
//# sourceMappingURL=main.ed915b00.chunk.js.map